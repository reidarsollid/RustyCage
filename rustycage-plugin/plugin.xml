<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.ui.editors">
      <editor
            class="org.rustycage.editors.RustEditor"
            contributorClass="org.eclipse.ui.texteditor.BasicTextEditorActionContributor"
            default="true"
            extensions="rs"
            icon="icons/rustyrust.png"
            id="org.rustycage.editors.RustEditor"
            name="Rust Editor">
         <contentTypeBinding
               contentTypeId="RustyCage.contentType.rust">
         </contentTypeBinding>
      </editor>
   </extension>

   <extension
         point="org.eclipse.help.toc">
      <toc
            file="toc.xml">
      </toc>
      <toc
            file="testToc.xml"
            primary="true">
      </toc>
   </extension>
   <extension
         point="org.eclipse.ui.importWizards">
      <category
            name="Rust"
            id="org.rustycage.fileimport.rustCategory">
      </category>
      <wizard
            name="Import Rust File"
            icon="icons/rustyrust.png"
            category="org.rustycage.fileimport.rustCategory"
            class="org.rustycage.fileimport.RustImportWizard"
            id="org.rustycage.importWizards.RustImportWizard">
         <description>
            Import a file from the local file system into the workspace.
         </description>
      </wizard>
      <wizard
            category="org.rustycage.fileimport.rustCategory"
            class="org.rustycage.fileimport.RustImportProjectWizard"
            icon="icons/rustyrust.png"
            id="org.rustycage.fileimport.RustProjectImportWizard   "
            name="Import Rust Project ">
         <description>
            Import Rust Project from the local file system (Not implemented)
         </description>
      </wizard>
   </extension>
   <extension
         point="org.eclipse.ui.newWizards">
      <category
            id="RustyCage"
            name="Rust Wizards"
            parentCategory="RustyCage">
      </category>
      <wizard
                category="RustyCage"
            class="org.rustycage.wizards.RustNewFileWizard"
            finalPerspective="org.rustycage.perspective"
            icon="icons/rustyrust.png"
            id="org.rustycage.wizards.RustNewFileWizard"
                name="Rust file"
                project="true">
      </wizard>
      <wizard
              category="RustyCage"
            class="org.rustycage.wizards.RustProjectWizard"
              descriptionImage="$nl$/icons/rust.png"
            finalPerspective="org.rustycage.perspective"
            icon="icons/rustyrust.png"
            id="org.rustycage.wizards.RustProjectWizard"
            name="Rust Project">
              project="true">
      </wizard>
   </extension>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            name="Rust"
            class="org.rustycage.preferences.RustPreferencePage"
            id="org.rustycage.preferences.RustPreferencePage">
      </page>
   </extension>
   <extension
         point="org.eclipse.core.runtime.preferences">
      <initializer
            class="org.rustycage.preferences.PreferenceInitializer">
      </initializer>
   </extension>
   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            class="org.rustycage.PerspectiveFactory"
            fixed="false"
            icon="icons/rustyrust.png"
            id="org.rustycage.perspective"
            name="Rust">
         <description>
            Rust perspective for Rust development
         </description>
      </perspective>
   </extension>
    <extension
            point="org.eclipse.ui.navigator.navigatorContent">
        <commonWizard
                type="new"
                wizardId="org.rustycage.wizards.RustNewFileWizard">
            <enablement></enablement>
        </commonWizard>
        <commonWizard
                type="new"
                wizardId="org.rustycage.wizards.RustProjectWizard">
            <enablement></enablement>
        </commonWizard>
    </extension>
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension
            targetID="org.rustycage.perspective">
         <view
               closeable="false"
               id="org.eclipse.ui.navigator.ProjectExplorer"
               minimized="false"
               relationship="stack"
               visible="true">
         </view>
         <view
                    id="org.eclipse.ui.console.ConsoleView"
               minimized="false"
                    relationship="bottom"
               visible="true">
         </view>
      </perspectiveExtension>
   </extension>
   <extension
         id="rustProblem"
         point="org.eclipse.core.resources.markers">
      <super
            type="org.eclipse.core.resources.problemmarker">
      </super>
      <persistent
            value="true">
      </persistent>
      <super
            type="org.eclipse.core.resources.textmarker">
      </super>
   </extension>
   <extension point="org.eclipse.ui.menus">
      <menuContribution
            locationURI="toolbar:org.eclipse.ui.main.toolbar?after=additions">
         <toolbar id="RustyCage.toolbars.rustToolbar">
            <command
                  commandId="RustyCage.commands.compileCommand"
                  icon="icons/Compile.gif"
                  id="RustyCage.toolbars.compileCommand"
                  label="Compile"
                  mnemonic="M1+C"
                  style="push">
            </command>
            <command
                  commandId="RustyCage.commands.runCommand"
                  icon="icons/Run.gif"
                  label="Run"
                  mnemonic="M1+M2+R"
                  style="push">
            </command>
            <command
                  commandId="RustyCage.commands.cleanCommand"
                  icon="icons/Trash.png"
                  label="Clean"
                  style="push">
            </command>
         </toolbar>
      </menuContribution>
      <menuContribution
            allPopups="true"
            locationURI="popup:#TextEditorContext?after=additions">
         <command
               commandId="RustyCage.commands.compileCommand"
               icon="icons/Compile.gif"
               id="RustyCage.toolbars.compileCommand"
               label="Rust Compile"
               style="pulldown">
         </command>
         <command
               commandId="RustyCage.commands.runCommand"
               icon="icons/Run.gif"
               label="Rust Run"
               style="pulldown">
         </command>
         <command
               commandId="RustyCage.commands.cleanCommand"
               icon="icons/Trash.png"
               label="Clean"
               style="pulldown">
         </command>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.core.contenttype.contentTypes">
      <file-association
            content-type="RustyCage.rust"
            file-extensions="rs"
            file-names="Rust files">
      </file-association>
      <content-type
            describer="org.rustycage.RustContentDescriber"
            id="RustyCage.contentType.rust"
            name="Rust file"
            priority="high">
      </content-type>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <category
            id="RustyCage.commands.category"
            name="Rust">
      </category>
      <command
            categoryId="RustyCage.commands.category"
            id="RustyCage.commands.compileCommand"
            name="Compile">
      </command>
      <command
            categoryId="RustyCage.commands.category"
            id="RustyCage.commands.runCommand"
            name="Run">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="org.rustycage.compile.RustCompileHandler"
            commandId="RustyCage.commands.compileCommand">
      </handler>
      <handler
            class="org.rustycage.run.RustRunner"
            commandId="RustyCage.commands.runCommand">
      </handler>
      <handler
            class="org.rustycage.clean.CleanHandler"
            commandId="RustyCage.commands.cleanCommand">
      </handler>
   </extension>
   <extension
         point="org.eclipse.ui.exportWizards">
      <category
            id="org.rustycage.export.rustCategory"
            name="Rust">
      </category>
      <wizard
            category="org.rustycage.export.rustCategory"
            class="org.rustycage.packagetool.RustExportPackage"
            icon="icons/rustyrust.png"
            id="RustyCage.export.package.wizard"
            name="Package">
         <description>
            Build a Rust pkg from the selected Crate
         </description>         
      </wizard>
   </extension>
   <extension
         id="org.rustycage.rustBuilder"
         name="Rust Project Builder"
         point="org.eclipse.core.resources.builders">
      <builder
            hasNature="true"
            isConfigurable="false">
         <run
               class="org.rustycage.builder.RustBuilder">
         </run>
      </builder>
   </extension>
   <extension
         id="rustNature"
         name="Rust Project Nature"
         point="org.eclipse.core.resources.natures">
      <runtime>
         <run
               class="org.rustycage.builder.RustNature">
         </run>
      </runtime>
      <builder
            id="org.rustycage.rustBuilder">
      </builder>
   </extension>
   <extension
         id="xmlProblem"
         name="XML Problem"
         point="org.eclipse.core.resources.markers">
      <super
            type="org.eclipse.core.resources.problemmarker">
      </super>
      <persistent
            value="true">
      </persistent>
   </extension>
   <extension
         point="org.eclipse.core.runtime.products">
      <product
            application="rustycage.product"
            description="Rust IDE"
            name="RustyCage">
      </product>
   </extension>

</plugin>
